<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rental Accounting</title>
  <link rel="stylesheet" href="/static/assets/style.css"/>
</head>
<body>
  <header>
    <h1>Rental Accounting</h1>
    <nav>
      <button class="tab-btn" data-tab="data-entry">Data Entry</button>
      <button class="tab-btn" data-tab="browse">Browse</button>
      <button class="tab-btn" data-tab="reports">Reports</button>
      <button class="tab-btn" data-tab="audits">Audits</button>
    </nav>
  </header>

  <main>
    <!-- Data Entry -->
    <section id="data-entry" class="tab active">
      <h2>Data Entry</h2>
      <div class="grid2">
        <div class="card">
          <h3>Company</h3>
          <input id="company-name" placeholder="Name"/>
          <input id="company-tin" placeholder="TIN #"/>
          <button onclick="createCompany()">Add Company</button>
        </div>

        <div class="card">
          <h3>Property</h3>
          <input id="property-company" placeholder="Company ID"/>
          <input id="property-address" placeholder="Address"/>
          <input id="property-desc" placeholder="Description"/>
          <button onclick="createProperty()">Add Property</button>
        </div>

        <div class="card">
          <h3>Tenant</h3>
          <input id="tenant-name" placeholder="Name"/>
          <input id="tenant-phone" placeholder="Phone"/>
          <input id="tenant-email" placeholder="Email"/>
          <button onclick="createTenant()">Add Tenant</button>
        </div>

        <div class="card">
          <h3>Lease</h3>
          <input id="lease-tenant" placeholder="Tenant ID"/>
          <input id="lease-property" placeholder="Property ID"/>
          <input id="lease-from" type="date" placeholder="From"/>
          <input id="lease-to" type="date" placeholder="To (optional)"/>
          <button onclick="createLease()">Add Lease</button>
        </div>

        <div class="card">
          <h3>Rent</h3>
          <input id="rent-property" placeholder="Property ID"/>
          <input id="rent-from" type="date" />
          <input id="rent-to" type="date" />
          <input id="rent-amount" type="number" step="0.01" placeholder="Amount"/>
          <button onclick="createRent()">Add Rent</button>
        </div>

        <div class="card">
          <h3>Account Type</h3>
          <input id="atype-code" placeholder="Code (ASSET/LIABILITY/EQUITY/REVENUE/EXPENSE)"/>
          <input id="atype-name" placeholder="Name"/>
          <input id="atype-desc" placeholder="Description"/>
          <button onclick="createAccountType()">Add Account Type</button>
        </div>

        <div class="card">
          <h3>Account SubType</h3>
          <input id="asub-typeid" placeholder="Type ID"/>
          <input id="asub-code" placeholder="Code"/>
          <input id="asub-name" placeholder="Name"/>
          <input id="asub-desc" placeholder="Description"/>
          <button onclick="createAccountSubType()">Add SubType</button>
        </div>

        <div class="card">
          <h3>Account</h3>
          <input id="acct-typeid" placeholder="Type ID"/>
          <input id="acct-subtypeid" placeholder="SubType ID (optional)"/>
          <input id="acct-name" placeholder="Name"/>
          <input id="acct-desc" placeholder="Description"/>
          <button onclick="createAccount()">Add Account</button>
        </div>

        <div class="card">
          <h3>Transaction</h3>
          <input id="trans-debit" placeholder="Debit Account ID"/>
          <input id="trans-credit" placeholder="Credit Account ID"/>
          <input id="trans-prop" placeholder="Property ID (optional)"/>
          <input id="trans-tenant" placeholder="Tenant ID (optional)"/>
          <input id="trans-date" type="date"/>
          <input id="trans-amount" type="number" step="0.01" placeholder="Amount"/>
          <input id="trans-desc" placeholder="Description (optional)"/>
          <button onclick="createTransaction()">Post Transaction</button>
        </div>
      </div>
    </section>

    <!-- Browse -->
    <section id="browse" class="tab">
      <h2>Browse Data</h2>
      <div class="grid3">
        <div class="card">
          <h3>Companies</h3>
          <button onclick="loadTable('/api/companies', 'companies-table')">Refresh</button>
          <table id="companies-table"></table>
        </div>
        <div class="card">
          <h3>Properties</h3>
          <button onclick="loadTable('/api/properties', 'properties-table')">Refresh</button>
          <table id="properties-table"></table>
        </div>
        <div class="card">
          <h3>Tenants</h3>
          <button onclick="loadTable('/api/tenants', 'tenants-table')">Refresh</button>
          <table id="tenants-table"></table>
        </div>
        <div class="card">
          <h3>Leases</h3>
          <button onclick="loadTable('/api/leases', 'leases-table')">Refresh</button>
          <table id="leases-table"></table>
        </div>
        <div class="card">
          <h3>Rents</h3>
          <button onclick="loadTable('/api/rents', 'rents-table')">Refresh</button>
          <table id="rents-table"></table>
        </div>
        <div class="card">
          <h3>Accounts</h3>
          <button onclick="loadTable('/api/accounts', 'accounts-table')">Refresh</button>
          <table id="accounts-table"></table>
        </div>
        <div class="card">
          <h3>Transactions</h3>
          <button onclick="loadTable('/api/transactions', 'transactions-table')">Refresh</button>
          <table id="transactions-table"></table>
        </div>
      </div>
    </section>

    <!-- Reports -->
    <section id="reports" class="tab">
      <h2>Reports</h2>
      <div class="card">
        <h3>Income Statement</h3>
        <div class="row">
          <label>Start: <input id="is-start" type="date"></label>
          <label>End: <input id="is-end" type="date"></label>
          <button onclick="runIncomeStatement()">Run</button>
        </div>
        <pre id="is-output" class="output"></pre>
      </div>

      <div class="card">
        <h3>Balance Sheet</h3>
        <div class="row">
          <label>As of: <input id="bs-asof" type="date"></label>
          <button onclick="runBalanceSheet()">Run</button>
        </div>
        <pre id="bs-output" class="output"></pre>
      </div>

      <div class="card">
        <h3>Expense Report</h3>
        <div class="row">
          <label>Start: <input id="er-start" type="date"></label>
          <label>End: <input id="er-end" type="date"></label>
          <button onclick="runExpenseReport()">Run</button>
        </div>
        <pre id="er-output" class="output"></pre>
      </div>
    </section>

    <!-- Audits -->
    <section id="audits" class="tab">
      <h2>Audits</h2>
      <button onclick="runAudits()">Run All Audits</button>
      <pre id="audits-output" class="output"></pre>
    </section>
  </main>

  <script src="/static/js/app.js"></script>
</body>
</html>
